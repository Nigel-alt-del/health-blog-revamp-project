
/*
  Simplified Image Styling for Insure My Health Blog
  This file provides consistent styling and responsive behavior for images
  within the blog content, especially when using the @tailwindcss/typography plugin (prose).

  Goals:
  1. Ensure images are responsive and don't overflow their containers.
  2. Apply consistent styling (border-radius, shadow).
  3. Support basic alignment (left, right, center) from the editor.
  4. Allow for custom sizing from the editor while respecting responsiveness.
*/

/* Base styling for all images within prose content */
.prose img {
  display: block; /* Make images block-level for consistent spacing and alignment */
  max-width: 100%; /* Ensure images are never wider than their container */
  height: auto; /* Maintain aspect ratio */
  border-radius: 8px; /* Consistent border-radius */
  box-shadow: 0 2px 8px rgba(0,0,0,0.1); /* Consistent shadow */
  margin: 16px auto; /* Default vertical margin and center alignment */
}

/* Override for specific width attributes (from editor) - ensures responsiveness */
/* This allows images to be set to certain widths but still respect max-width: 100% */
.prose img[style*="width"] {
  max-width: 100% !important; /* IMPORTANT: Prioritize responsiveness over fixed inline widths */
  height: auto !important; /* IMPORTANT: Maintain aspect ratio when inline width is set */
  min-width: 0 !important; /* IMPORTANT: Prevent fixed min-width causing overflow on small screens */
}

/* Alignment classes for images within prose (from editor classes like ql-align-left) */
.prose .ql-align-left img {
  float: left;
  margin-right: 16px;
  margin-left: 0; /* Override auto centering */
  margin-bottom: 8px;
}

.prose .ql-align-right img {
  float: right;
  margin-left: 16px;
  margin-right: 0; /* Override auto centering */
  margin-bottom: 8px;
}

.prose .ql-align-center img {
  display: block; /* Ensure it's block for margin: auto to work */
  margin-left: auto;
  margin-right: auto;
}

/* Clearfix for floated images to prevent text wrap issues with subsequent content */
.prose .ql-align-left:after,
.prose .ql-align-right:after {
  content: "";
  display: table;
  clear: both;
}

/* --- Legacy/Custom image-container classes (if still actively used in custom HTML) --- */
/*
  If images are *not* exclusively placed via the rich text editor's markdown,
  and are manually wrapped in `.image-container` divs in other parts of the site,
  keep these rules. Otherwise, they can be safely removed.
  The .prose img rules above handle editor-generated content.
*/
.image-container {
  margin: 20px 0;
  text-align: center;
}

.image-container.align-left {
  text-align: left;
  float: left;
  margin-right: 20px;
  margin-bottom: 10px;
}

.image-container.align-right {
  text-align: right;
  float: right;
  margin-left: 20px;
  margin-bottom: 10px;
}

.image-container img {
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  height: auto;
  max-width: 100%; /* Ensure these also respect container width */
}

/* Specific sizing for image containers (if you still use them) */
.image-container.size-small img {
  width: 200px;
  max-width: 100%; /* Ensure it doesn't exceed parent width */
  height: auto;
}

.image-container.size-medium img {
  width: 400px;
  max-width: 100%;
  height: auto;
}

.image-container.size-large img {
  width: 600px;
  max-width: 100%;
  height: auto;
}

.image-container.size-full img {
  width: 100%;
  max-width: 100%;
  height: auto;
}
